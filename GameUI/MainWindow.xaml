<Window x:Class="GameUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:GameUI.Converters"
        Title="Cờ Tư Lệnh" Width="1600" Height="900"
        WindowStartupLocation="CenterScreen"
        Background="#222"
        Focusable="True"
        KeyDown="Window_KeyDown">
    <Window.Resources>
        <conv:BoolToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>
    <Viewbox Stretch="Uniform">
        <Grid x:Name="RootGrid" Width="1703" Height="1845">
            <Image x:Name="BoardImage"
                   Source="pack://application:,,,/GameUI;component/Assets/pieces_png/board.png"
                   Stretch="Fill" Panel.ZIndex="0"/>
            <Canvas x:Name="GridOverlayCanvas" Panel.ZIndex="5" IsHitTestVisible="False"/>
            <!-- HighlightCanvas above PieceCanvas so move targets render over pieces for capture indication -->
            <Canvas x:Name="HighlightCanvas" Panel.ZIndex="15" />
            <Canvas x:Name="PieceCanvas" Panel.ZIndex="10" />
            <Border x:Name="DebugPanel" Background="#55000088" CornerRadius="4" Padding="6" Margin="8" Panel.ZIndex="20"
                    HorizontalAlignment="Left" VerticalAlignment="Top"
                    Visibility="{Binding ShowDebugPanel, Converter={StaticResource BoolToVis}}">
                <TextBlock FontFamily="Consolas" FontSize="12" Foreground="White" Text="{Binding DebugInfo}"/>
            </Border>
        </Grid>
    </Viewbox>
</Window>
